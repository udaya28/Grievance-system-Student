(this["webpackJsonpgrievance-system"]=this["webpackJsonpgrievance-system"]||[]).push([[0],{137:function(e,t,n){},139:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},204:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),i=n.n(c),s=n(13),r=n.n(s),o=(n(137),n(19)),l=n.n(o),d=n(29),j=n(30),h=n(14),u=(n(139),n(257)),b=n(254),p=n(205),x=n(252),m=n(253),O=n(26),f=n.n(O),g=n(111),v=n(265),y=n(93),C=n.n(y),w=n(94),k=n.n(w),S=n(95),N=n.n(S),T=n(250),D=i.a.createContext({}),I=i.a.createContext({}),A=i.a.createContext({}),G=n(41),E=n(249),M=n(263),P=n(248),B=n(246),R=n(247),W=n(245),H=function(e){var t=e.SetOpen,n=e.handleClose,c=e.title,i=e.content,s=e.handleConfirm,r=e.confirmButtonColorSecondary;return Object(a.jsx)("div",{children:Object(a.jsxs)(M.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(W.a,{id:"alert-dialog-title",children:c}),""!==i&&Object(a.jsx)(B.a,{children:Object(a.jsx)(R.a,{id:"alert-dialog-description",children:i})}),Object(a.jsxs)(P.a,{children:[Object(a.jsx)(E.a,{onClick:n,variant:"text",color:"primary",style:{color:"#333333"},children:"Cancel"}),Object(a.jsx)(E.a,{onClick:s,variant:"contained",color:r?"secondary":"primary",autoFocus:!0,children:"Confirm"})]})]})})};function z(){var e=i.a.useState(null),t=Object(h.a)(e,2),n=t[0],c=t[1],s=i.a.useContext(D),r=function(){c(null)},o=i.a.useState(!1),l=Object(h.a)(o,2),d=l[0],j=l[1],u=function(){c(null),j(!0)};return Object(a.jsxs)("div",{children:[Object(a.jsx)(T.a,{id:"simple-menu",onClick:function(e){c(e.currentTarget)},children:Object(a.jsx)(C.a,{style:{color:"white"}})}),Object(a.jsxs)(g.a,{id:"menu-list-grow",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:r,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[Object(a.jsx)(G.b,{to:"/Grievance-system-Student/profile",children:Object(a.jsxs)(v.a,{onClick:function(){r()},children:[Object(a.jsx)(k.a,{})," \xa0\xa0\xa0Profile"]})}),Object(a.jsxs)(v.a,{onClick:function(){u()},children:[Object(a.jsx)(N.a,{})," \xa0\xa0\xa0Logout"]})]}),Object(a.jsx)(H,{SetOpen:d,handleClose:function(){j(!1)},title:"Confirm",content:"Are you sure you want to logout?",handleConfirm:function(){r(),f.a.remove("token"),s(!1)},confirmButtonColorSecondary:!0})]})}var q=function(){return Object(a.jsx)(x.a,{position:"fixed",color:"primary",children:Object(a.jsx)(m.a,{children:Object(a.jsxs)(b.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(a.jsx)(b.a,{item:!0,children:Object(a.jsx)("h3",{className:"mon",children:"VCET"})}),Object(a.jsx)(b.a,{item:!0,children:Object(a.jsxs)(b.a,{container:!0,justify:"space-between",alignItems:"center",children:[Object(a.jsx)(G.c,{to:"/Grievance-system-Student/",style:{padding:"0px 10px",fontWeight:"bold",color:"white"},children:"Home"}),Object(a.jsx)(G.c,{to:"/Grievance-system-Student/about",style:{padding:"0px 10px",fontWeight:"bold",color:"white"},children:"About"}),Object(a.jsx)(z,{})]})})]})})})},Y=(n(146),function(){return Object(a.jsx)("div",{className:"image-container",children:Object(a.jsxs)("h1",{className:"head",style:{fontSize:"30px",marginTop:"30px",color:"white"},children:["STUDENTS",Object(a.jsx)("span",{children:" GRIEVANCE CELL"})]})})}),F=(n(147),function(){return Object(a.jsxs)("div",{className:"details",children:[Object(a.jsx)("h1",{className:"form-head form-head1",children:"Grievance Cell"}),Object(a.jsx)("p",{children:"\xa0 \xa0 \xa0 \xa0The cell functions to look into the grievances lodged by any student. Students may approach the cell to voice their grievances regarding academic matters, health services, library and other services. Any form of discontent or dissatisfaction on the part of the students can be informed to the cell. The Grievance cell also looks into matters of harassment. Anyone with a genuine grievance may approach the Co-ordinator or member of the Students\u2019 Grievance cell. Grievances may also be sent through this portal to the Co-ordinator of the Students\u2019 Grievance Cell. The cell then redresses the grievances promptly and judiciously."}),Object(a.jsx)("h1",{children:"Objective"}),Object(a.jsx)("p",{children:"\xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0The main objective of the Grievance Cell is to promote and maintain a conducive and harmonious educational environment among the students. This is with the following objectives in mind"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Grievance cell is formed in order to keep the healthy working atmosphere amongst staff, students and parents. This cell helps Students to record their complaints and solve their problems related to academics, resources and personal grievances freely and frankly without any fear of victimization."}),Object(a.jsx)("li",{children:"To ensure effective solution to the student grievances with an impartial and fair approach"}),Object(a.jsx)("li",{children:"In order to advising Students of the College to respect each other and be patient whenever any occasion of conflict arises."}),Object(a.jsx)("li",{children:"Ragging in any form is strictly prohibited in and outside the institution. Any violation of ragging and disciplinary rules should be urgently brought to the notice of the Principal.Ragging Complaints will be handled as per ragging rules."}),Object(a.jsx)("li",{children:"Woman Harassment complaints will be handled as per government guidelines by respective section."})]}),Object(a.jsx)("h1",{children:"Scope"}),Object(a.jsx)("p",{children:"\xa0 \xa0 \xa0 \xa0\xa0 \xa0 \xa0The cell will deal with Grievances received in writing from the students about any of the following matters:"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Academic Matters: Related to timely issue of duplicate Mark-sheets, Transfer Certificates, Conduct Certificates or other examination related matters."}),Object(a.jsx)("li",{children:"Financial matters: Related to dues and payments for various items from library, hostels etc."}),Object(a.jsx)("li",{children:"Other Matters: Related to certain misgivings about conditions of sanitation, preparation of food, availability of transport, victimization by teachers etc."})]}),Object(a.jsx)("h1",{children:"Functions"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Using this portal students can post grievance and can stay anonymous"}),Object(a.jsx)("li",{children:"The cases will be attended promptly on receipt of grievances from the students."}),Object(a.jsx)("li",{children:"The cell will review all cases and will act formally accordingly as per the Management policy and send response to the students using this portal regarding their complaints."}),Object(a.jsx)("li",{children:"The cell will give report to the authority about the cases attended to and the number of pending cases, if any, which require direction and guidance from the higher authorities."})]}),Object(a.jsx)("h1",{children:"Exclusions"}),Object(a.jsx)("p",{children:"\xa0 \xa0 \xa0 \xa0\xa0 \xa0 \xa0The grievance Redressal cell shall not entertain the following issues:"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Decisions of the executive council, academic council, board of studies and other administrative or academic committees constituted by the university."}),Object(a.jsx)("li",{children:"Decisions with regard to award of scholarship, fee concessions, medals etc."}),Object(a.jsx)("li",{children:"Decisions made by the university with regard to disciplinary matters and misconduct."})]}),Object(a.jsx)("h1",{children:"Committee Members"}),Object(a.jsx)("div",{className:"table",children:Object(a.jsx)("table",{children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Name"}),Object(a.jsx)("th",{children:"Designation"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Dr. Tharun Kumar"}),Object(a.jsx)("td",{children:"Principal "})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Dr. Nithesh Prawin"}),Object(a.jsx)("td",{children:"Assistant professor, Dept. of Computer Science "})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Dr. Vaishnavi Suvetha"}),Object(a.jsx)("td",{children:"Assistant professor, Dept. of Computer Science "})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Dr. Sathiyasri"}),Object(a.jsx)("td",{children:"Assistant professor, Dept. of Computer Science "})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Mr. Udaya"}),Object(a.jsx)("td",{children:"Assistant professor, Dept. of Computer Science "})]})]})})})]})}),V=n(256),L=n(255),U=n(261),J=n(116),K=n(96),X=n.n(K),_=(n(148),n(32)),Q=n.n(_),Z=n(264),$=function(e){var t=e.details,n=e.refreshComplaint,s=Object(c.useState)({}),r=Object(h.a)(s,2),o=r[0],u=r[1],p=t._id,x=t.departmentName,m=t.jointYear,O=t.gender,g=Object(c.useState)(""),y=Object(h.a)(g,2),C=y[0],w=y[1],k=Object(c.useState)(""),S=Object(h.a)(k,2),N=S[0],T=S[1],D=Object(c.useState)(""),A=Object(h.a)(D,2),G=A[0],M=A[1],P=Object(c.useState)(!1),B=Object(h.a)(P,2),R=B[0],W=B[1],z=Object(c.useState)(!1),q=Object(h.a)(z,2),Y=q[0],F=q[1],K=i.a.useContext(I);Object(c.useEffect)((function(){return u(Object(d.a)(Object(d.a)({},o),{},{studentId:p,departmentName:x,jointYear:m,gender:O,status:"unseen",response:""})),function(){}}),[t]);var _=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W(!0),""!==C&&""!==N&&""!==G&&ce();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ie(),""===C||""===N||""===G){e.next=14;break}return e.prev=2,K(!0),e.next=6,Q.a.post("https://grievance-app-backend.herokuapp.com/student/complaint",{data:Object(d.a)(Object(d.a)({},o),{},{title:C,complaint:G,category:N,timeStamp:(new Date).toString()})},{headers:{token:f.a.get("token")}});case 6:201===e.sent.status&&(K(!1),w(""),T(""),M(""),ae(!1),W(!1),console.log("success"),F(!0),n()),K(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),ee=i.a.useState(!1),te=Object(h.a)(ee,2),ne=te[0],ae=te[1],ce=function(){ae(!0)},ie=function(){ae(!1)};return Object(a.jsxs)("div",{className:"form",children:[Object(a.jsx)("h1",{className:"form-head",children:"Post Your Grievance"}),Object(a.jsx)(J.a,{variant:"caption",display:"block",align:"left",color:"error",style:{margin:"0px 8px 10px 8px"},children:"NOTE : Your personal information is kept anonymous to the grievance committee, until you reveal it in complaint column."}),Object(a.jsxs)(L.a,{className:"form-group",children:[Object(a.jsxs)(b.a,{container:!0,spacing:1,children:[Object(a.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(V.a,{className:"single",children:Object(a.jsx)(U.a,{id:"outlined-basic",label:"Title",variant:"outlined",value:C,onInput:function(e){w(e.target.value)},error:R&&""===C,helperText:"Short title on your complaint"})})}),Object(a.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)(V.a,{className:"single",children:Object(a.jsxs)(U.a,{id:"select",label:"Category",select:!0,variant:"outlined",value:N,onChange:function(e){T(e.target.value)},error:R&&""===N,helperText:"Select category of complaint",children:[Object(a.jsx)(v.a,{value:"college",children:"College"}),Object(a.jsx)(v.a,{value:"hostel",children:"Hostel"})]})})})]}),Object(a.jsx)(V.a,{className:"single",children:Object(a.jsx)(U.a,{id:"outlined-multiline-static",label:"Complaint",multiline:!0,rows:10,onInput:function(e){M(e.target.value)},value:G,variant:"outlined",error:R&&""===G,helperText:"Give summary of your complaint with required details"})}),Object(a.jsx)(b.a,{container:!0,justify:"flex-end",children:Object(a.jsx)(E.a,{variant:"contained",color:"primary",endIcon:Object(a.jsx)(X.a,{}),onClick:_,children:"Send"})})]}),Object(a.jsx)(H,{SetOpen:ne,handleClose:ie,title:"Confirm",content:"Once submitted you can't change or delete your complaint.",handleConfirm:$,confirmButtonColorSecondary:!1}),Object(a.jsx)(Z.a,{open:Y,autoHideDuration:6e3,onClose:function(){return F(!1)},message:"posted complaint successfully"})]})},ee=function(){return Object(a.jsx)(x.a,{position:"relative",style:{top:"auto",bottom:0},color:"primary",children:Object(a.jsxs)(b.a,{container:!0,justify:"space-between",style:{padding:"10px 5px"},children:[Object(a.jsx)(b.a,{item:!0,sm:6,xs:12,children:Object(a.jsx)(J.a,{variant:"caption",children:"Copyright \xa9 2020"})}),Object(a.jsx)(b.a,{item:!0,sm:6,xs:12,children:Object(a.jsx)(J.a,{variant:"caption",children:"Developed By Anonymous with \u2764\ufe0f"})})]})})},te=n(15),ne=n(67),ae=n(266),ce=(n(165),n(97)),ie=n.n(ce),se=n(98),re=n.n(se),oe=n(99),le=n.n(oe),de=n(100),je=n.n(de),he=n(101),ue=n.n(he),be=n(102),pe=n.n(be),xe=n(105),me=n.n(xe),Oe=n(104),fe=n.n(Oe),ge=n(103),ve=n.n(ge),ye=function(e){var t=e.head,n=e.content,c=e.icon;return Object(a.jsxs)(b.a,{container:!0,justify:"center",alignContent:"center",direction:"row",children:[Object(a.jsx)(b.a,{container:!0,alignContent:"center",justify:"center",children:Object(a.jsx)(ae.a,{style:{width:"35px",height:"35px"},children:c})}),Object(a.jsxs)(b.a,{item:!0,children:[Object(a.jsx)("h1",{className:"sub-head",children:t}),Object(a.jsx)("p",{style:{fontWeight:"bold"},children:n})]})]})},Ce=function(e){var t=e.data,n=e.complaints,c=t.firstName,i=t.secondName,s=t.jointYear,r=t.departmentName,o=t.dateOfBirth,l=t.rollNumber,d=n.length,j=Object(ne.a)(n).reduce((function(e,t){return""!==t.response?e+1:e}),0);return Object(a.jsxs)(b.a,{container:!0,className:"profile-container",alignItems:"center",justify:"center",direction:"row",style:{paddingTop:"80px",paddingBottom:"60px"},children:[Object(a.jsxs)(b.a,{container:!0,justify:"center",alignItems:"center",style:{padding:"20px"},direction:"column",children:[Object(a.jsx)(b.a,{item:!0,xs:12,children:Object(a.jsx)(ae.a,{style:{width:"80px",height:"80px"},children:Object(a.jsx)(ie.a,{className:"icon-lg",style:{backgroundColor:"3a42bb"}})})}),Object(a.jsx)(b.a,{item:!0,xs:12,children:Object(a.jsx)("h1",{className:"sub-head",children:c+" "+i})})]}),Object(a.jsx)(b.a,{item:!0,xs:12,children:Object(a.jsxs)(b.a,{container:!0,spacing:4,children:[Object(a.jsx)(b.a,{item:!0,xs:6,sm:3,children:Object(a.jsx)(ye,{head:"Campus",content:"VCET",icon:Object(a.jsx)(re.a,{})})}),Object(a.jsx)(b.a,{item:!0,xs:6,sm:3,children:Object(a.jsx)(ye,{head:"Batch",content:"".concat(s," - ").concat(s+4),icon:Object(a.jsx)(le.a,{})})}),Object(a.jsx)(b.a,{item:!0,xs:6,sm:3,children:Object(a.jsx)(ye,{head:"Department",content:r,icon:Object(a.jsx)(je.a,{})})}),Object(a.jsx)(b.a,{item:!0,xs:6,sm:3,children:Object(a.jsx)(ye,{head:"Degree",content:"B.E",icon:Object(a.jsx)(ue.a,{})})}),Object(a.jsx)(b.a,{item:!0,xs:6,sm:3,children:Object(a.jsx)(ye,{head:"Date of birth",content:o,icon:Object(a.jsx)(pe.a,{})})}),Object(a.jsx)(b.a,{item:!0,xs:6,sm:3,children:Object(a.jsx)(ye,{head:"Roll number",content:l,icon:Object(a.jsx)(ve.a,{})})}),Object(a.jsx)(b.a,{item:!0,xs:6,sm:3,children:Object(a.jsx)(ye,{head:"Complaints made",content:d,icon:Object(a.jsx)(fe.a,{})})}),Object(a.jsx)(b.a,{item:!0,xs:6,sm:3,children:Object(a.jsx)(ye,{head:"Complaints closed",content:j,icon:Object(a.jsx)(me.a,{})})})]})})]})},we=(n(166),function(e){var t,n=e.open,c=e.handleClose,i=e.data;return t="seen"===i.status?"yellow1":"unseen"===i.status?"red1":"replayed"===i.status?"green1":"",Object(a.jsx)("div",{children:Object(a.jsxs)(M.a,{open:n,onClose:c,scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",children:[Object(a.jsx)(W.a,{id:"scroll-dialog-title",children:Object(a.jsx)("h1",{className:"dialogHeading",style:{margin:"0px"},children:i.title})}),Object(a.jsx)(B.a,{dividers:!0,className:t,children:Object(a.jsxs)(R.a,{id:"scroll-dialog-description",children:[Object(a.jsx)("h1",{className:"dialogHeading",children:"Complaint Made"}),Object(a.jsx)("p",{style:{textAlign:"justify"},children:i.complaint}),""!==i.response?[Object(a.jsx)("h1",{className:"dialogHeading",children:"Response"}),Object(a.jsx)("p",{style:{textAlign:"justify"},children:i.complaint})]:null,Object(a.jsxs)("p",{style:{textAlign:"left",fontSize:"small",margin:"15px 0px 0px",fontWeight:"bolder"},className:"".concat(t,"-col"),children:[i.status," by committee"]})]})}),Object(a.jsxs)(P.a,{className:"action",children:[Object(a.jsx)("p",{style:{fontSize:"small"},className:"time-stamp",children:i.timeStr}),Object(a.jsx)(E.a,{onClick:c,color:"primary",children:"Close"})]})]})})}),ke=(n(167),function(e){var t=e.split(" ").slice(1,5),n=t[3].split(":").map((function(e){return parseInt(e)})),a="AM",c=n[0],i=n[1],s=t.slice(0,3).join(" ");n[0]>12&&(a="PM",c%=12);var r="".concat(c>9?c:"0"+c,":").concat(i>9?i:"0"+i," ").concat(a);return"".concat(s+" "+r)}),Se=function(e){var t,n=e.data,c=e.handleClickOpen,i=n.title,s=n.timeStamp,r=n.status;return t="seen"===r?"yellow":"unseen"===r?"red":"replayed"===r?"green":"",Object(a.jsx)(b.a,{item:!0,xs:12,sm:6,children:Object(a.jsx)("div",{onClick:function(){c(n,ke(s))},children:Object(a.jsxs)(b.a,{container:!0,className:"activity-container + ".concat(t),children:[Object(a.jsx)(b.a,{item:!0,children:Object(a.jsx)("h1",{className:"activity-title",children:i})}),Object(a.jsxs)(b.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",children:[Object(a.jsx)(b.a,{item:!0,xs:6,children:Object(a.jsx)("p",{className:"time-stamp",children:ke(s)})}),Object(a.jsx)(b.a,{item:!0,xs:6,children:Object(a.jsx)("p",{className:"activity-status",children:r})})]})]})})})},Ne=function(e){var t=e.data,n=Object(c.useState)(!1),i=Object(h.a)(n,2),s=i[0],r=i[1],o=Object(c.useState)({}),l=Object(h.a)(o,2),d=l[0],j=l[1],u=function(e,t){e.timeStr=t,j(e),r(!0)};return Object(a.jsx)("div",{children:0!==t.length?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{className:"activity-head",children:"Previous Activity"}),Object(a.jsx)(b.a,{container:!0,spacing:1,style:{padding:"10px 5px 30px 5px"},children:Object(ne.a)(t).reverse().map((function(e,t){return Object(a.jsx)(Se,{data:e,handleClickOpen:u},t)}))}),Object(a.jsx)(we,{handleClose:function(){r(!1)},open:s,data:d})]}):null})},Te=function(){var e=Object(c.useState)({}),t=Object(h.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)([]),r=Object(h.a)(s,2),o=r[0],d=r[1],x=Object(c.useContext)(A);Object(c.useEffect)((function(){Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("https://grievance-app-backend.herokuapp.com/student/details/".concat(x.id),{headers:{token:f.a.get("token")}});case 2:200===(t=e.sent).status&&i(t.data.details[0]),m();case 5:case"end":return e.stop()}}),e)})))()}),[]);var m=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("https://grievance-app-backend.herokuapp.com/student/complaint/".concat(x.id),{headers:{token:f.a.get("token")}});case 2:200===(t=e.sent).status&&d(t.data.data.complaints);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(G.a,{children:Object(a.jsxs)(p.a,{children:[Object(a.jsx)(q,{}),Object(a.jsxs)(te.c,{children:[Object(a.jsx)(te.a,{exact:!0,path:"/Grievance-system-Student/about",children:Object(a.jsx)(u.a,{maxWidth:"md",children:Object(a.jsx)(F,{})})}),Object(a.jsx)(te.a,{exact:!0,path:"/Grievance-system-Student/profile",children:Object(a.jsx)(u.a,{maxWidth:"md",children:Object(a.jsx)(Ce,{data:n,complaints:o})})}),Object(a.jsxs)(te.a,{path:"/Grievance-system-Student/",children:[Object(a.jsx)(Y,{}),Object(a.jsx)(u.a,{maxWidth:"md",children:Object(a.jsxs)(b.a,{container:!0,direction:"column",children:[Object(a.jsx)($,{details:n,refreshComplaint:m}),Object(a.jsx)(Ne,{data:o})]})})]})]}),Object(a.jsx)(ee,{})]})})},De=n(259),Ie=n(106),Ae=n.n(Ie),Ge=n(258),Ee=(n(168),Object(Ge.a)((function(e){return{root:{height:"100vh",alignItems:"center",display:"flex",justifyContent:"center"},image:{backgroundImage:'url("https://images.unsplash.com/photo-1499750310107-5fef28a66643?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1050&q=80")',backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(5,4),display:"flex",flexDirection:"column",alignItems:"center",height:"auto",width:"100%",justify:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))),Me=function(){var e=Object(c.useState)(""),t=Object(h.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(""),r=Object(h.a)(s,2),o=r[0],u=r[1],x=Object(c.useState)(!1),m=Object(h.a)(x,2),O=m[0],g=m[1],v=Object(c.useState)(!0),y=Object(h.a)(v,2),C=y[0],w=y[1],k=Ee(),S=Object(c.useContext)(D),N=Object(c.useContext)(I),T=Object(c.useContext)(A),G=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),""===o||""===n){e.next=15;break}return e.prev=2,N(!0),e.next=6,Q.a.post("https://grievance-app-backend.herokuapp.com/student/login",{data:{rollNumber:n,password:o}});case 6:t=e.sent,N(!1),200===t.status&&(T.setID(Object(d.a)(Object(d.a)({},T),{},{id:t.data.id})),1/48,f.a.set("token",t.data.token,{expires:.020833333333333332}),S(!0)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),e.t0.response&&(console.log(e.t0.response),401===e.t0.response.status&&(w(!1),setTimeout((function(){return w(!0)}),5e3),N(!1)));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(b.a,{container:!0,component:"main",className:k.root,children:[Object(a.jsx)(De.a,{}),Object(a.jsx)(b.a,{item:!0,xs:12,sm:8,md:5,className:"login-box",component:p.a,children:Object(a.jsxs)("div",{className:k.paper,children:[Object(a.jsx)(ae.a,{className:k.avatar,children:Object(a.jsx)(Ae.a,{})}),Object(a.jsx)(J.a,{component:"h1",variant:"h6",children:"Sign in"}),Object(a.jsxs)(V.a,{className:k.form,validate:"true",children:[Object(a.jsx)(U.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Roll Number",name:"email",autoComplete:"email",onInput:function(e){""===o&&""===n&&g(!1),i(e.target.value)},value:n,error:O&&!n,helperText:O&&!n&&"Roll number field is required",autoFocus:!0}),Object(a.jsx)(U.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onInput:function(e){""===o&&""===n&&g(!1),u(e.target.value)},value:o,error:O&&!o,helperText:O&&!o&&"Password field is required",autoComplete:"current-password"}),!C&&Object(a.jsx)(J.a,{color:"error",variant:"caption",align:"left",children:"RollNumber or Password is Invalid"}),Object(a.jsx)(E.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:k.submit,onClick:G,children:"Sign In"})]})]})})]})},Pe=n(110),Be=n(260),Re=n(107);var We=function(){var e=Object(c.useState)(),t=Object(h.a)(e,2),n=t[0],i=t[1],s=Object(c.useState)(!1),r=Object(h.a)(s,2),o=r[0],u=r[1],b=Object(c.useState)({}),p=Object(h.a)(b,2),x=p[0],m=p[1];Object(c.useEffect)((function(){Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.a.get("token")){e.next=9;break}return u(!0),e.next=4,Q.a.get("https://grievance-app-backend.herokuapp.com/auth",{headers:{token:f.a.get("token")}});case 4:t=e.sent,u(!1),200===t.status?(m(Object(d.a)(Object(d.a)({},g),{},{id:t.data.id})),i(!0)):i(!1),e.next=10;break;case 9:i(!1);case 10:case"end":return e.stop()}}),e)})))()}),[]);var O=Object(Pe.a)({palette:{type:"light",primary:{main:"#3a42bb"}}}),g={id:x.id,setID:m};return Object(a.jsx)(Be.a,{theme:O,children:Object(a.jsx)(D.Provider,{value:i,children:Object(a.jsx)(I.Provider,{value:u,children:Object(a.jsx)(A.Provider,{value:g,children:Object(a.jsxs)("div",{className:"App",children:[n?Object(a.jsx)(Te,{}):Object(a.jsx)(Me,{}),o&&Object(a.jsx)(Re.BoxLoading,{color:"#3a42bb",size:"large"})]})})})})})};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(We,{})}),document.getElementById("root"))}},[[204,1,2]]]);
//# sourceMappingURL=main.5616abcb.chunk.js.map